{"version":3,"sources":["../../../../node_modules/.pnpm/next%4016.1.6_%40babel%2Bcore%407.2_9d8d1bf7a8807769963b5151bd760c41/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../app/onboarding/peso/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","'use client'\n\nimport { useState, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\n\nconst KG_TO_LB = 2.20462\nconst MIN_KG = 30\nconst MAX_KG = 200\n\nexport default function PesoPage() {\n  const router = useRouter()\n  const [pesoKg, setPesoKg] = useState(70)\n  const [unit, setUnit] = useState<'kg' | 'lb'>('kg')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const sliderRef = useRef<HTMLDivElement>(null)\n  const isDragging = useRef(false)\n\n  const displayValue = unit === 'kg' ? pesoKg : Math.round(pesoKg * KG_TO_LB)\n  const minDisplay = unit === 'kg' ? MIN_KG : Math.round(MIN_KG * KG_TO_LB)\n  const maxDisplay = unit === 'kg' ? MAX_KG : Math.round(MAX_KG * KG_TO_LB)\n\n  const percentage = ((pesoKg - MIN_KG) / (MAX_KG - MIN_KG)) * 100\n\n  const handleSliderChange = (clientX: number) => {\n    if (!sliderRef.current) return\n\n    const rect = sliderRef.current.getBoundingClientRect()\n    const x = Math.max(0, Math.min(clientX - rect.left, rect.width))\n    const percent = x / rect.width\n    const newKg = Math.round(MIN_KG + percent * (MAX_KG - MIN_KG))\n    setPesoKg(Math.max(MIN_KG, Math.min(MAX_KG, newKg)))\n  }\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    isDragging.current = true\n    handleSliderChange(e.clientX)\n    document.addEventListener('mousemove', handleMouseMove)\n    document.addEventListener('mouseup', handleMouseUp)\n  }\n\n  const handleMouseMove = (e: MouseEvent) => {\n    if (isDragging.current) {\n      handleSliderChange(e.clientX)\n    }\n  }\n\n  const handleMouseUp = () => {\n    isDragging.current = false\n    document.removeEventListener('mousemove', handleMouseMove)\n    document.removeEventListener('mouseup', handleMouseUp)\n  }\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    isDragging.current = true\n    handleSliderChange(e.touches[0].clientX)\n  }\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (isDragging.current) {\n      handleSliderChange(e.touches[0].clientX)\n    }\n  }\n\n  const handleTouchEnd = () => {\n    isDragging.current = false\n  }\n\n  const handleContinue = async () => {\n    setLoading(true)\n    setError('')\n\n    try {\n      const res = await fetch('/api/onboarding/peso', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ peso_kg: pesoKg }),\n      })\n\n      const data = await res.json()\n\n      if (!data.ok) {\n        setError(data.error || 'Error al guardar')\n        return\n      }\n\n      router.push('/onboarding/altura')\n    } catch {\n      setError('Error de conexion')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"w-full max-w-md animate-slide-up\">\n      <div className=\"onboarding-card p-6 md:p-8 relative z-10\">\n        {/* Header */}\n        <div className=\"text-center mb-6\">\n          <div className=\"w-16 h-16 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-lg shadow-emerald-500/30\">\n            <span className=\"text-3xl\">⚖️</span>\n          </div>\n          <h1 className=\"text-2xl font-bold text-gray-800 mb-1\">\n            ¿Cual es tu peso?\n          </h1>\n          <p className=\"text-gray-500 text-sm\">\n            Desliza para ajustar\n          </p>\n        </div>\n\n        {/* Unit toggle */}\n        <div className=\"flex justify-center mb-6\">\n          <div className=\"unit-toggle\">\n            <button\n              onClick={() => setUnit('kg')}\n              className={`unit-option ${unit === 'kg' ? 'active' : ''}`}\n            >\n              KG\n            </button>\n            <button\n              onClick={() => setUnit('lb')}\n              className={`unit-option ${unit === 'lb' ? 'active' : ''}`}\n            >\n              LB\n            </button>\n          </div>\n        </div>\n\n        {/* Weight display */}\n        <div className=\"text-center mb-8\">\n          <span className=\"value-display\">{displayValue}</span>\n          <span className=\"value-unit\">{unit}</span>\n        </div>\n\n        {/* Slider */}\n        <div className=\"px-4 mb-6\">\n          <div\n            ref={sliderRef}\n            className=\"relative h-12 cursor-pointer\"\n            onMouseDown={handleMouseDown}\n            onTouchStart={handleTouchStart}\n            onTouchMove={handleTouchMove}\n            onTouchEnd={handleTouchEnd}\n          >\n            {/* Track */}\n            <div className=\"absolute top-1/2 -translate-y-1/2 left-0 right-0 h-2 bg-gray-200 rounded-full\">\n              {/* Fill */}\n              <div\n                className=\"h-full bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full transition-all duration-75\"\n                style={{ width: `${percentage}%` }}\n              />\n            </div>\n\n            {/* Thumb */}\n            <div\n              className=\"absolute top-1/2 -translate-y-1/2 w-8 h-8 bg-white border-4 border-emerald-500 rounded-full shadow-lg shadow-emerald-500/30 cursor-grab active:cursor-grabbing transition-transform hover:scale-110 active:scale-115\"\n              style={{ left: `calc(${percentage}% - 16px)` }}\n            />\n          </div>\n\n          {/* Min/Max labels */}\n          <div className=\"flex justify-between mt-2 text-sm text-gray-400\">\n            <span>{minDisplay} {unit}</span>\n            <span>{maxDisplay} {unit}</span>\n          </div>\n        </div>\n\n        {/* Quick select buttons */}\n        <div className=\"flex justify-center gap-2 flex-wrap\">\n          {[50, 60, 70, 80, 90].map((kg) => (\n            <button\n              key={kg}\n              onClick={() => setPesoKg(kg)}\n              className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${\n                pesoKg === kg\n                  ? 'bg-emerald-100 text-emerald-700 border-2 border-emerald-300'\n                  : 'bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-gray-200'\n              }`}\n            >\n              {unit === 'kg' ? kg : Math.round(kg * KG_TO_LB)} {unit}\n            </button>\n          ))}\n        </div>\n\n        {error && (\n          <div className=\"mt-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm\">\n            {error}\n          </div>\n        )}\n      </div>\n\n      {/* Bottom nav */}\n      <div className=\"onboarding-nav\">\n        <div className=\"onboarding-nav-inner\">\n          <button\n            onClick={handleContinue}\n            disabled={loading}\n            className=\"btn-premium flex items-center justify-center gap-2\"\n            style={{ background: 'linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%)' }}\n          >\n            {loading ? (\n              <>\n                <span className=\"spinner\" />\n                Guardando...\n              </>\n            ) : (\n              'Continuar'\n            )}\n          </button>\n          <Link\n            href=\"/onboarding/edad\"\n            className=\"text-center text-sm text-gray-500 hover:text-gray-700 transition-colors\"\n          >\n            ← Anterior\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0]}
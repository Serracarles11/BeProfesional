module.exports=[21813,(a,b,c)=>{"use strict";b.exports=a.r(2827).vendored["react-ssr"].ReactServerDOMTurbopackClient},4482,a=>{"use strict";var b=a.i(81629),c=a.i(84365),d=a.i(89760),e=a.i(97823);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(70),[h,i]=(0,c.useState)("kg"),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),n=(0,c.useRef)(null),o=(0,c.useRef)(!1),p="kg"===h?f:Math.round(2.20462*f),q="kg"===h?30:Math.round(66.1386),r="kg"===h?200:Math.round(440.924),s=(f-30)/170*100,t=a=>{if(!n.current)return;let b=n.current.getBoundingClientRect();g(Math.max(30,Math.min(200,Math.round(30+Math.max(0,Math.min(a-b.left,b.width))/b.width*170))))},u=a=>{o.current&&t(a.clientX)},v=()=>{o.current=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",v)},w=async()=>{k(!0),m("");try{let b=await fetch("/api/onboarding/peso",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({peso_kg:f})}),c=await b.json();if(!c.ok)return void m(c.error||"Error al guardar");a.push("/onboarding/altura")}catch{m("Error de conexion")}finally{k(!1)}};return(0,b.jsxs)("div",{className:"w-full max-w-md animate-slide-up",children:[(0,b.jsxs)("div",{className:"onboarding-card p-6 md:p-8 relative z-10",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-lg shadow-emerald-500/30",children:(0,b.jsx)("span",{className:"text-3xl",children:"⚖️"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"¿Cual es tu peso?"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Desliza para ajustar"})]}),(0,b.jsx)("div",{className:"flex justify-center mb-6",children:(0,b.jsxs)("div",{className:"unit-toggle",children:[(0,b.jsx)("button",{onClick:()=>i("kg"),className:`unit-option ${"kg"===h?"active":""}`,children:"KG"}),(0,b.jsx)("button",{onClick:()=>i("lb"),className:`unit-option ${"lb"===h?"active":""}`,children:"LB"})]})}),(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("span",{className:"value-display",children:p}),(0,b.jsx)("span",{className:"value-unit",children:h})]}),(0,b.jsxs)("div",{className:"px-4 mb-6",children:[(0,b.jsxs)("div",{ref:n,className:"relative h-12 cursor-pointer",onMouseDown:a=>{o.current=!0,t(a.clientX),document.addEventListener("mousemove",u),document.addEventListener("mouseup",v)},onTouchStart:a=>{o.current=!0,t(a.touches[0].clientX)},onTouchMove:a=>{o.current&&t(a.touches[0].clientX)},onTouchEnd:()=>{o.current=!1},children:[(0,b.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 left-0 right-0 h-2 bg-gray-200 rounded-full",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full transition-all duration-75",style:{width:`${s}%`}})}),(0,b.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 w-8 h-8 bg-white border-4 border-emerald-500 rounded-full shadow-lg shadow-emerald-500/30 cursor-grab active:cursor-grabbing transition-transform hover:scale-110 active:scale-115",style:{left:`calc(${s}% - 16px)`}})]}),(0,b.jsxs)("div",{className:"flex justify-between mt-2 text-sm text-gray-400",children:[(0,b.jsxs)("span",{children:[q," ",h]}),(0,b.jsxs)("span",{children:[r," ",h]})]})]}),(0,b.jsx)("div",{className:"flex justify-center gap-2 flex-wrap",children:[50,60,70,80,90].map(a=>(0,b.jsxs)("button",{onClick:()=>g(a),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${f===a?"bg-emerald-100 text-emerald-700 border-2 border-emerald-300":"bg-gray-100 text-gray-600 border-2 border-transparent hover:bg-gray-200"}`,children:["kg"===h?a:Math.round(2.20462*a)," ",h]},a))}),l&&(0,b.jsx)("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:l})]}),(0,b.jsx)("div",{className:"onboarding-nav",children:(0,b.jsxs)("div",{className:"onboarding-nav-inner",children:[(0,b.jsx)("button",{onClick:w,disabled:j,className:"btn-premium flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%)"},children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"spinner"}),"Guardando..."]}):"Continuar"}),(0,b.jsx)(e.default,{href:"/onboarding/edad",className:"text-center text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"← Anterior"})]})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_e9794ee6._.js.map